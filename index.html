
<!DOCTYPE html>
<html lang="en ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexo || </title>
    <meta name="author" content="John Doe">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/images/avatar.png">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/maiden-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Hexo</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/about">
            <span>
                <a-icon type="idcard" theme="filled" />
            </span>
            <span>about</span>
        </a>
        
        <a href="/archives">
            <span>
                <a-icon type="folder" theme="filled" />
            </span>
            <span>archives</span>
        </a>
        
        <a href="/like/categories">
            <span>
                <a-icon type="book" theme="filled" />
            </span>
            <span>categories</span>
        </a>
        
        <a href="/like/tags">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
        <a target="_blank" rel="noopener" href="https://en.korilin.com">
            <span>
                <a-icon type="compass" theme="filled" />
            </span>
            <span>英文博客</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>Hexo</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="idcard" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="folder" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">archives</div>
                </div>
            </a>
            
            <a href="/like/categories">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="book" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">categories</div>
                </div>
            </a>
            
            <a href="/like/tags">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
            <a target="_blank" rel="noopener" href="https://en.korilin.com">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="compass" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">英文博客</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                    <div id="home-head" style=background-image:url('home.jpg')>
    <script>
        var menu = document.getElementById("menu")
        menu.className += " menu-color"
    </script>
     
    <div id="home-info" class="home-info" @click="home_click">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>Hexo</h1>
                <h3></h3>
                <h5></h5>
            </div>
        </span>
    </div>
     
</div>



<div id="home-posts-wrap" class=>
    <div id="home-posts">

        <div id="posts">
            

<div class="post">

    <a href="/2022/10/29/react-router v6/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/10/29
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p><a name="woiJC"></a></p>
<h1 id="react-router-v6"><a href="#react-router-v6" class="headerlink" title="react-router v6"></a>react-router v6</h1><p><a name="pcje2"></a></p>
<h2 id="路由组件"><a href="#路由组件" class="headerlink" title="路由组件"></a>路由组件</h2><p><a name="Jwypd"></a></p>
<h3 id="BrowserRouter与HashRouter"><a href="#BrowserRouter与HashRouter" class="headerlink" title="BrowserRouter与HashRouter"></a>BrowserRouter与HashRouter</h3><p>作用：整体结构，用于包裹组件<br />区别：<br />一     path表现形式不一样：HashRouter含#，而BrowserRouter无<br />         例如：localhost:3000/#/demo/test      localhost:3000/demo/test<br />注：#后面的请求数据不会返回给后端，因此改变 hash 不会重新加载页面。<br />       HashRouter可解决一些路径错误问题<br />二     底层原理不一样：BrowserRouter使用的是H5的history API；HashRouter使用的是URL的哈希值<br />三     刷新后对路由state参数的影响：<br />BrowserRouter没有任何影响，因为state保存在history对象中；<br />HashRouter刷新后会导致路由state参数的丢失！<br /><img src="https://cdn.nlark.com/yuque/0/2022/png/32453655/1666974399682-2d70496d-e87d-4cd2-b6c0-effcc24604d9.png#clientId=ude8e2e54-fe34-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=124&id=ubfb406a1&margin=%5Bobject%20Object%5D&name=image.png&originHeight=155&originWidth=1203&originalType=binary&ratio=1&rotation=0&showTitle=false&size=14265&status=done&style=none&taskId=ua68fc469-419a-476b-beeb-65e13fe62ab&title=&width=962.4" alt="image.png"></p>
<p><a name="amjmy"></a></p>
<h3 id="Navigate"><a href="#Navigate" class="headerlink" title="Navigate"></a>Navigate</h3><p>只要这个组件渲染，立马修改路径，切换视图.<br />根据sum值切换视图：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sum==<span class="number">2</span> ? <span class="xml"><span class="tag">&lt;<span class="name">Navigate</span> <span class="attr">to</span>=<span class="string">&#x27;/about&#x27;</span> <span class="attr">replace</span>=<span class="string">&#123;true&#125;</span>&gt;</span> : <span class="tag">&lt;<span class="name">h4</span>&gt;</span>sum is not two.<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>跳转模式：</p>
<ul>
<li>replace：覆盖原页面，不可回退</li>
<li>push：默认，可回退</li>
</ul>
<p><a name="xS9Dj"></a></p>
<h3 id="Routes-与-Route"><a href="#Routes-与-Route" class="headerlink" title="Routes 与 Route"></a>Routes 与 Route</h3><p><Routes />包裹<Route /><br /><Route  caseSensitive>是否区分大小写，默认false<br /><Route />可嵌套使用，可配合路由表<br /><Routes><br />&lt;Route indexpath=”/“ element={<Home />} /&gt;<br />&lt;Route path=”about” element={<About />} /&gt;<br />&lt;Route path=”/users/:id” element={<User />} /&gt;<br /></Routes></p>
<p><a name="xxKvI"></a></p>
<h3 id="useRoutes"><a href="#useRoutes" class="headerlink" title="useRoutes"></a>useRoutes</h3><p>将路由表抽离出来，形式上更加直观</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = useRoutes([</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>home...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>, </span><br><span class="line">    <span class="attr">element</span>: <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">]);</span><br><span class="line"><span class="comment">//然后在APP.tsx里面return useRoutes(router)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这个router数组就是路由表<br />可 const element = useRoutes(router)<br />然后将{element}放在想要的位置</p>
<p><a name="nOelU"></a></p>
<h3 id="useNavigate"><a href="#useNavigate" class="headerlink" title="useNavigate"></a>useNavigate</h3><p>可实现编程式路由导航</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> navigate = useNavigate();</span><br><span class="line"><span class="comment">//后退</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">back</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  navigate(-<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//前进</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">forward</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  navigate(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//跳转到指定位置,实现重定向</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDetail</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  navigate(<span class="string">&#x27;/about&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a name="qod8t"></a></p>
<h3 id="Outlet"><a href="#Outlet" class="headerlink" title="Outlet"></a>Outlet</h3><p>指定路由组件呈现的位置</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">//新生 J</span></span><br><span class="line">  <span class="attr">path</span>:<span class="string">&quot;/visitor&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>:<span class="xml"><span class="tag">&lt;<span class="name">J_layout</span> /&gt;</span></span>,</span><br><span class="line">    children:[</span><br><span class="line">    &#123;<span class="attr">path</span>:<span class="string">&quot;&quot;</span>,<span class="attr">element</span>:<span class="xml"><span class="tag">&lt;<span class="name">Navigate</span> <span class="attr">to</span>=<span class="string">&quot;form&quot;</span> /&gt;</span></span>&#125;,</span><br><span class="line">    &#123;<span class="attr">path</span>:<span class="string">&quot;form&quot;</span>,<span class="attr">element</span>:<span class="xml"><span class="tag">&lt;<span class="name">AJ_form</span> /&gt;</span></span>&#125;,</span><br><span class="line">    &#123;<span class="attr">path</span>:<span class="string">&quot;progress&quot;</span>,<span class="attr">element</span>:<span class="xml"><span class="tag">&lt;<span class="name">AJ_progress</span> /&gt;</span></span>&#125;,</span><br><span class="line">    &#123;<span class="attr">path</span>:<span class="string">&quot;work&quot;</span>,<span class="attr">element</span>:<span class="xml"><span class="tag">&lt;<span class="name">AJ_work</span> /&gt;</span></span>&#125;,</span><br><span class="line">    ]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=<span class="string">&#x27;J-container&#x27;</span>&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Header</span>&gt;</span><span class="tag">&lt;/<span class="name">Header</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;J-body&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;J-box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">className</span>=<span class="string">&quot;J-nav&quot;</span>&gt;</span>                  </span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">className</span>=<span class="string">&#123;computedName&#125;</span> <span class="attr">to</span>=<span class="string">&quot;/visitor/form&quot;</span>&gt;</span>报名表查看<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">className</span>=<span class="string">&#123;computedName&#125;</span> <span class="attr">to</span>=<span class="string">&quot;/visitor/progress&quot;</span>&gt;</span>进度查询<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">className</span>=<span class="string">&#123;computedName&#125;</span> <span class="attr">to</span>=<span class="string">&quot;/visitor/work&quot;</span>&gt;</span>作业查询<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;J-content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">Outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">Outlet</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p><a name="GDMAR"></a></p>
<h2 id="传递参数的hooks"><a href="#传递参数的hooks" class="headerlink" title="传递参数的hooks"></a>传递参数的hooks</h2><p><a name="b9Kr7"></a></p>
<h3 id="useParams"><a href="#useParams" class="headerlink" title="useParams"></a>useParams</h3><p>实现a组件传递参数给b组件</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=<span class="string">&#x27;b/$&#123;item.id&#125;/$&#123;item.title&#125;/$&#123;item.content&#125;&#x27;</span>&gt;&lt;/Link&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">children:[</span><br><span class="line">  &#123;<span class="attr">path</span>:<span class="string">&#x27;b/:id/:title/:content&#x27;</span>,</span><br><span class="line">   <span class="attr">element</span>:<span class="xml"><span class="tag">&lt;<span class="name">B</span> /&gt;</span></span>   </span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;id,title,content&#125; = useParams();</span><br></pre></td></tr></table></figure>

<p><a name="setja"></a></p>
<h3 id="usesearchParams"><a href="#usesearchParams" class="headerlink" title="usesearchParams"></a>usesearchParams</h3><p>传递search参数<br />与useParams区别：在router制定路由表时无需占位<br />实现a组件给b组件传参</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=&#123;<span class="string">&#x27;b?id=$&#123;item.id&#125;&amp;title=$&#123;item.title&#125;&amp;content=$&#123;item.content&#125;&#x27;</span>&#125;&gt;&lt;/Link&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [search,setSearch] = usesearchParams();</span><br><span class="line"><span class="keyword">const</span> id = search.get(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> title = search.get(<span class="string">&#x27;title&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> content = search.get(<span class="string">&#x27;content&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>这里的setSearch是一个函数，可更新对应的search参数</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onclick=&#123;<span class="function">()=&gt;</span>&#123;setSearch(<span class="string">&#x27;id=00&amp;&amp;title=&#x27;</span>detail<span class="string">&#x27;&amp;&amp;content=&#x27;</span><span class="built_in">this</span> is content<span class="string">&#x27;&#x27;</span>)&#125;&#125;&gt;&lt;/button&gt; </span><br></pre></td></tr></table></figure>

<p><a name="IS0jY"></a></p>
<h3 id="uselocation"><a href="#uselocation" class="headerlink" title="uselocation"></a>uselocation</h3><p>传递state参数<br />在router注册路由表时同样不需要占位<br />实现a组件传递参数给b组件</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=<span class="string">&#x27;a&#x27;</span> state=&#123;<span class="attr">id</span>:item.id,<span class="attr">title</span>:item.title,<span class="attr">content</span>:item.content&#125;&gt;&lt;/Link&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;<span class="attr">state</span>:&#123;id,title,content&#125;&#125; = uselocation();<span class="comment">//连续解构赋值</span></span><br></pre></td></tr></table></figure>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/10/29/react-router v6/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/10/02/浏览器页面的阻塞渲染/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/10/2
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h2 id="浏览器关键渲染路径"><a href="#浏览器关键渲染路径" class="headerlink" title="浏览器关键渲染路径"></a>浏览器关键渲染路径</h2><p>这部分主要是，浏览器通过网络模块加载得到到HTML文件后的渲染流程<br><img src="https://cdn.nlark.com/yuque/0/2022/png/32453655/1664677108643-9943bc60-c49b-4508-9ddb-95529355c0ac.png#clientId=u7c50e314-48f6-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u190747ae&margin=%5Bobject%20Object%5D&originHeight=191&originWidth=927&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u8feadf4f-a628-4901-b5ef-e5401efcf63&title="></p>
<p>首先浏览器拿到从服务端返回的html文件是由一堆字节构成的，随后转化为字符，即人能看懂的html代码。再转化为token，就像是符号标签。这里主要依赖html中标签的 &lt; 和 &gt; ，比如<body>是开始标签，</body>是结束标签。这样字符就被token化，不同字符就有了不同意义。下一步就是把token转化为节点对象，构建dom树。<br><img src="https://cdn.nlark.com/yuque/0/2022/png/32453655/1664677723783-0c7136e1-a7a3-4f64-a7a4-9f91067f5b03.png#clientId=u7c50e314-48f6-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=316&id=u21a9ec5e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=401&originWidth=914&originalType=binary&ratio=1&rotation=0&showTitle=false&size=135937&status=done&style=none&taskId=u1fdb0fd0-7139-4446-9d23-4fbb0d5586f&title=&width=721.2000122070312" alt="image.png"></p>
<p>其实返回的css文件的转化也类似，即字节到字符到token到节点，但最后一步是到CSSOM。CSSOM树，与DOM树结构相似，只是另外为每一个节点关联了样式信息。</p>
<p>但CSSOM 和 DOM有一些区别，其中一个就是DOM可部分解析，而CSSDOM不能。试想<code>body&#123;font-size:16px;&#125;</code>又设置了<code>body div&#123;font-size:32px;&#125;</code>就会导致部分解析时字号为16px，造成页面样式混乱。</p>
<p>DOM 和 CSSOM的结合即为渲染树，任务就是匹配DOM 和 CSSOM的节点，并且捕获可见内容。（比如有的标签<meta><link>等不会显示出来，CSSOM中设置display：none也不会显示）</p>
<p>布局：获取渲染树的结构，节点的位置大小，依据盒子模型，盒子（对应节点）在页面上排列嵌套。简单说，就是把每个节点放到正确的位置。</p>
<p>绘制：遍历渲染树绘制所有节点，为每一个节点适用对应的样式，这一过程是通过UI后端模块完成。</p>
<h2 id="浏览器的阻塞渲染"><a href="#浏览器的阻塞渲染" class="headerlink" title="浏览器的阻塞渲染"></a>浏览器的阻塞渲染</h2><h3 id="CSS阻塞"><a href="#CSS阻塞" class="headerlink" title="CSS阻塞"></a>CSS阻塞</h3><p>注意：只有link引入的外部css才能产生阻塞；不阻塞DOM的解析<br>主要阻塞DOM树渲染以及后面js语句的执行</p>
<link href="index.css" rel="stylesheet">
<link href= "print.css" rel="stylesheet" media="print">
<link href="other.css" rel="stylesheet" media="(min-width: 30em) and (orientation: landscape)">

<p>第一个会加载并阻塞；<br>第二个只在打印的时候会加载但不阻塞；<br>第三个提供了媒体查询，会在符合条件时阻塞渲染。</p>
<p>有时可以利用这种阻塞，避免闪屏。原因：比如style标签里面的css不阻塞渲染，导致CSS很可能在渲染结束后生效，若渲染结束时CSS和后边新生效的CSS不同，那很显然会改变显示效果。</p>
<h3 id="js阻塞"><a href="#js阻塞" class="headerlink" title="js阻塞"></a>js阻塞</h3><p>js会阻塞DOM树的解析和渲染，以及后面js语句的执行</p>
<p>阻塞dom解析：如果浏览器把后续dom节点加载完，而js若把dom节点删除，浏览器就做了无用功。浏览器无法预估脚本里面具体做了什么操作，例如像document.write 这种操作，索性全部停住，等脚本执行完了，浏览器再继续向下解析DOM。    </p>
<p>阻塞dom渲染：js可以操作dom也可以修改节点样式，为避免出现差错，就等js执行完再渲染。</p>
<p>阻塞后续js执行：js语句之间可能有依赖关系。</p>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><ul>
<li> CSS的解析和JS的执行是互斥的（互相排斥），CSS解析的时候JS停止执行，JS执行的时候CSS停止解析。</li>
<li> CSS阻塞和JS阻塞都不会阻塞浏览器加载外部资源（图片、视频、样式、脚本等）。原因：浏览器始终处于一种：“先把请求发出去” 的工作模式，只要是涉及到网络请求的内容，都会先发送请求去获取资源，至于资源到本地之后什么时候用，由浏览器自己协调。</li>
</ul>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/10/02/浏览器页面的阻塞渲染/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/05/07/JavaScript垃圾回收/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/5/7
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h2 id="js垃圾回收"><a href="#js垃圾回收" class="headerlink" title="js垃圾回收"></a>js垃圾回收</h2><h2 id="一什么是垃圾"><a href="#一什么是垃圾" class="headerlink" title="一什么是垃圾"></a>一什么是垃圾</h2><p>从生活中的角度可知，垃圾，就是人们不再需要的东西。在js中也一样，垃圾就是不再需要的变量。js通过自动内存管理实现内存分配和闲置资源回收，基本思路就是确定哪个变量不会再被用到了，就释放它占用的内存。</p>
<p><strong>全局变量</strong><br>在全局作用域下声明的变量都不是垃圾，因为你有可能再次使用到<br>比如在全局作用域下 var m=3<br>可能一开始m变量不会被用到，但在写多行代码后用到m，这时m就存在被用到的可能性，所以在js中不会被当做垃圾回收<br><strong>局部变量</strong><br>例子 function fn(）{<br>  var b=2;<br>  console.log(b);<br>}<br>当fn函数执行时，会创建b变量，栈（或堆）内存会分配空间以保存相应的值。如果fn多次执行，且每次的变量b都不会被回收的话，是不是会产生很多的变量b，这样明显是不合理的。<br>所以局部变量在函数执行完后变成垃圾会被回收<br><strong>单引用</strong><br> let a=1；<br>let a=null；<br>一开始变量a开辟的内存空间存放1 ，但当值为null时，空间就没有作用了，变成垃圾被回收<br><strong>双引用</strong><br>let fruit={<br> name:”apple”<br>}；<br>let food = fruit;<br>在windows上定义一个对象fruit，具有name属性。之后定义一个food变量指向fruit的内存空间。<br>这时如果想清除这片开辟的内存空间，就必须把fruit和food两个变量都清除，垃圾才能被回收干净<br><strong>环引用</strong><br>function marry(man, woman) {<br>  woman.husband = man;<br>  man.wife = woman;</p>
<p>  return {<br>    father: man,<br>    mother: woman<br>  }<br>}</p>
<p>let family = marry({<br>  name: “John”<br>}, {<br>  name: “Ann”<br>});<br><img src="https://img-blog.csdnimg.cn/c44df59c7f9a4ab59a0b157055c5cce1.png" alt="在这里插入图片描述"></p>
<p>在一个family中，如果只去掉father和husband，此时name：“john”还存在，因为还存在wife可以引用john（即箭头指向）。<br>只有将所有指向该变量的对象清除才能够将该变量作为垃圾处理</p>
<h2 id="二标记清理"><a href="#二标记清理" class="headerlink" title="二标记清理"></a>二标记清理</h2><p>标记清理是 js 中最常用的垃圾回收策略：当变量进入上下文，如在函数中声明一个变量时，这个变量会被加上存在于上下文中的标记。当变量离开上下文时，也会被加上离开上下文的标记。<br>垃圾回收程序运行：</p>
<ul>
<li>首先将内存中所有的变量标记好</li>
<li>然后去掉   还在上下文中的变量  或者  被还在上下文中变量引用的变量  的标记，此时还有标记的就是要被删除的</li>
<li>随后垃圾回收程序做一次内存清理，销毁带标记的所有值并收回它们的内存</li>
</ul>
<p> 给变量加标记的方法有很多。比如，当变量进入上下文时，反转某一位；或者可以维护“在上下文中”和“不在上下文中”两个变量列表，可以把变量从一个列表转移到另一个列表。</p>
<h2 id="三引用计数"><a href="#三引用计数" class="headerlink" title="三引用计数"></a>三引用计数</h2><p>这是一种没那么常用的垃圾回收策略，思路是对每个值都记录它被引用的次数，当引用次数为0时变量就会被垃圾回收程序清理。<br>let obj1 = {name: ‘张三’};  // 创建对象（称其为 a），给 obj1 赋值，则其引用次数为1<br>let obj2 = obj1;  // a 的引用次数为 2</p>
<p>obj1 = null;  // a 的引用次数为 1<br>obj2 = null;  // a 的引用次数为 0，此时 a 就可以被垃圾回收了</p>
<p>声明一个变量并给它赋一个引用值时，引用数为1；如果同一个值又被赋给另一个变量，引用数加1；类似的，如果保存对该值引用的变量被其他值覆盖了，引用数减1</p>
<p>问题：<strong>循环引用</strong><br>function f() {<br>    let obj1 = {};<br>    let obj2 = {};<br>    obj1.a=obj2;<br>    obj2.a=obj1;<br>}<br>此时obj1和obj2通过各自的a属性相互引用，两者引用数都是2，当f函数执行完毕后，在引用技术策略下obj1和obj2还存在，因为它们的引用数永远不会变成0<br>要解决这个问题，最好就是在不使用它们的时候将其设为 null </p>
<h2 id="四前端垃圾回收的特殊性"><a href="#四前端垃圾回收的特殊性" class="headerlink" title="四前端垃圾回收的特殊性"></a>四前端垃圾回收的特殊性</h2><p>对于前端而言，不仅有 js 进程，还有 DOM 进程。</p>
<p><strong>（1）使用 remove 清除掉 dom 元素</strong><br>（remove() 方法移除被选元素，包括所有文本和子节点）<br>let div=document.getElementById(‘root’);<br>div.onclick=function(){};<br>div.remove();<br>console.log(div.onclick);            //f(){}</p>
<p>可见onclick未被清除掉</p>
<p><strong>（2）将其变为 null</strong><br>let div=document.getElementById(‘root’);<br>let div2=document.getElementById(‘root’);<br>div.onclick=function(){};<br>div=null;<br>console.log(div2.onclick);//f(){}</p>
<p>可见onclick也还未被清除掉。<br>但此时打印div.onclick会报错，因为此时div已经为null了</p>
<p><strong>（3）同时使用 remove 和 null</strong><br>let div=document.getElementById(‘root’);<br>let div2=document.getElementById(‘root’);<br>div.onclick=function(){};<br>div=null;<br>div.remove();<br>console.log(div2.onclick);//null</p>
<p>可以看出这个 onclick 事件被清除掉了。所以对于前端而言，不仅要清除 js 进程，还要清除 dom 进程。</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/05/07/JavaScript垃圾回收/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/04/13/小程序踩坑记/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/4/13
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h2 id="一-react错误-Minified-React-error-185"><a href="#一-react错误-Minified-React-error-185" class="headerlink" title="一 react错误 Minified React error #185;"></a>一 react错误 Minified React error #185;</h2><p>原因：render函数不能使用setState()，否则会导致页面死循环<br><img src="https://img-blog.csdnimg.cn/02f0c6e3889d418395ef9a0fb467425a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5biM55-jYQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="摘录"><br>上图摘自其他博主</p>
<h2 id="二-有关Taro-showToast"><a href="#二-有关Taro-showToast" class="headerlink" title="二 有关Taro.showToast"></a>二 有关Taro.showToast</h2><p>如果只写title的话，最多只展示7个文字<br>如果再加      icon：‘none’    此时 title 文本最多可显示两行<br><img src="https://img-blog.csdnimg.cn/099542250aec4ae19717f7d42ff47c01.png" alt="示例代码"></p>
<h3 id="既然提到taro了，再插一句：发现表单组件的Input-居然没有-onChange-事件"><a href="#既然提到taro了，再插一句：发现表单组件的Input-居然没有-onChange-事件" class="headerlink" title="既然提到taro了，再插一句：发现表单组件的Input 居然没有 onChange 事件"></a>既然提到taro了，再插一句：发现表单组件的Input 居然没有 onChange 事件</h3><h2 id="三-小程序记住账户密码功能"><a href="#三-小程序记住账户密码功能" class="headerlink" title="三 小程序记住账户密码功能"></a>三 小程序记住账户密码功能</h2><p>效果：用户一扫码登录，自动显示    账户     密码（小黑圈显示），类似QQ的记住密码。<img src="https://img-blog.csdnimg.cn/02836374f46249d5aebb4594b46dc4b1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5biM55-jYQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="示例代码"><br>实现：用户初次登录，拿到学号密码存入本地缓存（通过Taro.setStorage实现），此时生成用户的token，也存入本地缓存。<br>此后再登录，直接判断if（token）就可以，如果是真，直接页面跳转，否则显示弹窗。<br>那么如何实现记住账户密码呢？<br>代码如上，在react类组件的生命周期函数中setstate，值来源于本地缓存中的student—id 与 password  。在render函数中，input组件的value值（而不是placeholder）也设为student—id 与 password 。</p>
<h2 id="四-对数组中不同类元素进行不同操作"><a href="#四-对数组中不同类元素进行不同操作" class="headerlink" title="四 对数组中不同类元素进行不同操作"></a>四 对数组中不同类元素进行不同操作</h2><h5 id="实现：首先用map方法遍历数组，再进行if-else判断是否同类，最后return，在页面上展示数据"><a href="#实现：首先用map方法遍历数组，再进行if-else判断是否同类，最后return，在页面上展示数据" class="headerlink" title="实现：首先用map方法遍历数组，再进行if else判断是否同类，最后return，在页面上展示数据"></a>实现：首先用map方法遍历数组，再进行if else判断是否同类，最后return，在页面上展示数据</h5><p>array.map((item) =&gt; {<br>    if(item.name==’1’){<br>        return()<br>    }else{<br>    return()<br>}<br>})</p>
<p>如上代码在jsx的render函数中<br>效果：类似QQ聊天框，name为1的人发送的消息显示在左边，气泡浅色；name不是1的人发送的消息显示在右边，气泡深色。</p>
<h2 id="五-函数之间的传参"><a href="#五-函数之间的传参" class="headerlink" title="五 函数之间的传参"></a>五 函数之间的传参</h2><p>假设有a b两个函数，现在a函数return一个值为m，b函数想接收到这个m值<br>实现：function a（）{<br>    。。。。<br>    return{<br>        m<br>}<br>}</p>
<p>function b（）{<br>    var xx = this.a;<br>    console.log(xx.m);<br>}<br>此时b函数输出的即为m值<br><img src="https://img-blog.csdnimg.cn/1e3d4b12949347138a5f19a02f6d97b3.png" alt="示例代码"></p>
<h2 id="六-点击发送键，即可发送消息"><a href="#六-点击发送键，即可发送消息" class="headerlink" title="六 点击发送键，即可发送消息"></a>六 点击发送键，即可发送消息</h2><h5 id="实现：在constructor函数里面初始化state，声明一个数组msglist，此后每点击一次发送键，就利用一次数组的push方法"><a href="#实现：在constructor函数里面初始化state，声明一个数组msglist，此后每点击一次发送键，就利用一次数组的push方法" class="headerlink" title="实现：在constructor函数里面初始化state，声明一个数组msglist，此后每点击一次发送键，就利用一次数组的push方法"></a>实现：在constructor函数里面初始化state，声明一个数组msglist，此后每点击一次发送键，就利用一次数组的push方法</h5><p><img src="https://img-blog.csdnimg.cn/a9a366cfa0cc4d42b53a7b27d6ae9f80.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5biM55-jYQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="示例代码"></p>
<h5 id="注意：这里多加了一个copy，否则会报错，应该是内置原生js的性能，具体不清楚"><a href="#注意：这里多加了一个copy，否则会报错，应该是内置原生js的性能，具体不清楚" class="headerlink" title="注意：这里多加了一个copy，否则会报错，应该是内置原生js的性能，具体不清楚"></a>注意：这里多加了一个copy，否则会报错，应该是内置原生js的性能，具体不清楚</h5>
            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/04/13/小程序踩坑记/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/18/关于http/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/18
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h2 id="一-http"><a href="#一-http" class="headerlink" title="一 http"></a>一 http</h2><p>1 http是无状态协议，自身不对请求和响应之间的通信状态进行保存，这使得http是比较简单的，可以更快处理大量事务，确保协议的可伸缩性。</p>
<p>2  http用于客户端与服务端之间的通信，一个普通的请求包括：客户端向服务端发出请求，服务端处理请求，服务端将结果响应给客户端。</p>
<p>3 与http关系密切的协议：IP TCP DNS<br>（TCP/IP协议族按层次分为：应用层、网络层、传输层、链路层）<br><strong>IP协议</strong>:  位于网络层，作用是把各种数据包传递给对方，而要保证确实传送到对方那里， 则需要满足各类条件。 其中两个重要的条件是 IP 地址和 MAC地址 。 IP地址指明了节点被分配到的地址，可变换；Mac地址是指网卡所属的固定位置，基本不会更改。</p>
<p><strong>TCP协议</strong>：位于传输层，提供可靠的字节流服务（将大块数据分割成以报文段为单位的数据包进行管理）。TCP的三次握手：发送端首先将标有SYN标志的数据包发给对方，接收端收到后回传一个带有SYN/ACK标志的数据包来确认收到信息，最后发送端再回传一个带ACK标志的数据包代表“握手”结束。</p>
<p><strong>DNS服务</strong>：位于应用层，提供域名到IP地址的解析服务（通过域名查找IP地址或者逆向从IP地址反查域名）。<br><img src="https://img-blog.csdnimg.cn/276ebb0e190c452db861273a6f2c3d4b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5p6r5qGl77yG5pyI5b2x,size_16,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h2 id="二-cookie"><a href="#二-cookie" class="headerlink" title="二 cookie"></a>二 cookie</h2><p><strong>基本介绍</strong>：1  当一个浏览器访问某web服务器时，web服务器会调用addCookie()方法，在响应头中添加一个名叫Set-Cookie的响应字段用于将Cookie返回给浏览器，当浏览器第二次访问该web服务器时会自动的将该cookie回传给服务器，来实现用户状态跟踪。</p>
<p>2  每一个cookie都有一个name和一个value，且name属性是唯一的。每个web浏览器储存多个web站点的cookie，浏览器一般只允许存放300个Cookie，每个站点最多存放20个Cookie，每个Cookie的大小限制为4KB。</p>
<p><strong>分类：会话级别 or 持久化</strong><br>1 会话级别的cookie储存在浏览器的内存中，用户关闭浏览器后删除。</p>
<p>2 持久化的cookie存储在浏览器目录下的文件（磁盘）中，这需要设置该cookie的生命周期setMaxAge，以秒为单位，优先级别高于expires，类似定时器代表过了多久浏览器删除该cookie。</p>
<p><strong>cookie的作用域</strong><br>cookie的domain和path属性定义了cookie的作用范围，即访问哪些网站或url时，会自动的带着该cookie。domain即域名，默认是当前主机(不包括子域名)，path默认是*(所有路径)，即域名后面的的路径。大部分情况下我们都是使用默认的设置即可。</p>
<h2 id="三-session"><a href="#三-session" class="headerlink" title="三 session"></a>三 session</h2><p><strong>基本介绍</strong>：web服务器中会开辟一块内存用来保存服务器端所有的session，每个session都会有一个唯一标识sessionid，根据客户端传过来的jsessionid(cookie中)，找到对应的服务器端的session。为了防止服务器端的session过多导致内存溢出，web服务器默认会给每个session设置一个有效期,    （30分钟）若有效期内客户端没有访问过该session，服务器就认为该客户端已离线并删除该session。</p>
<p><strong>保存sessionid的方式</strong></p>
<p>1 放在cookie中，通过一个特殊的cookie，name为JSESSIONID，value为服务器端某个 session的ID，默认的方式。但是当浏览器禁用cookie后session就会失效。</p>
<p>2 附加在url路径后面，在cookie浏览器被禁用时启用。可作为附加信息添在url后面或作为查询字符串加在url后面</p>
<p><strong>基本原理</strong></p>
<p>当用户发送请求到服务器后，先检查请求中是否含有sessionid，如果没有说明是第一次访问，服务器就会创建一个session对象，并将sessionid附加到set-cookie的响应头中。<br>如果存在sessionid就会到服务器查找对应的session。所以说，服务器端的session和客户端的cookie是息息相关的，若是没有了cookie，又不做其他处理的话，服务器端的session也没了。</p>
<p><strong>question：关闭浏览器后session会消失吗？</strong><br>tip：从服务端和浏览器端考虑。</p>
<h2 id="四-token"><a href="#四-token" class="headerlink" title="四 token"></a>四 token</h2><p><strong>基本介绍</strong>：token可理解为“令牌”，是全局唯一的一个字符串，用来识别唯一的客户端。token解决了session依赖于单个Web服务器的问题，session只存在于单一服务器中，而在web服务器集群环境下需要用户多次登录，使得用户体验很不好。比如，某人在a服务器上登录过一次，这时跳转到b服务器但依靠session就还得再登录一次。</p>
<p><strong>基本原理</strong>：模拟cookie、session的机制。根据“cookie中根据sessionid来查找服务器端session的”，<strong>生成客户端唯一字符串</strong>；使用redis的哈希类型来模型服务器端的session，<strong>得到服务端会话信息存储</strong>，再让二者匹配。</p>
<p>我们可以在用户第一次请求该web服务器时或是用户登录该web服务器时，生成一个全局唯一的token返回给前端存储，同时将该用户信息存到redis中并设置有效期，之后每次请求中都在请求头中带着这个token，服务器端根据这个token到redis中查找对应的用户信息，即得到了我们所说的 “session”。</p>
<h2 id="总结cookie-session-token"><a href="#总结cookie-session-token" class="headerlink" title="总结cookie session token"></a>总结cookie session token</h2><p><strong>cookie</strong>：一种数据载体，把session放在cookie中送到客户端那边去，之后cookie跟着每个请求头发给服务端。</p>
<p><strong>session</strong>：诞生并保存在服务器中，由服务器主导一切。</p>
<p><strong>token</strong>：诞生于服务器，保存于浏览器，由客户端主导一切，可以放在cookie或storage里，持“令牌”访问服务器。</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/03/18/关于http/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2021/11/26/postName/">
        <h2>
            Function(javaScript)
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2021/11/26
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p>#函数的概念及优势<br>概念：简单来说就是封装了一段可被重复执行调用的代码块，是JavaScript编程的基础。<br>优势：让大量代码重复使用，减少重复，同时使子程序间相互隔离。</p>
<p>#函数的使用（声明、调用）<br>一. 函数的声明：（两种）<br>1.function 函数名（）{<br>函数体代码<br>}<br>2.var 函数名 = function（）{<br>函数体代码<br>}<br>注：1.function为函数关键词，小写<br>2.函数名一般命名为动词，如getResult<br>3.括号内为形参，若有多个用逗号分开</p>
<p>二 .函数的调用：<br>函数名（ ）；<br>注：1.只有调用函数才会执行函数体代码<br>2.括号内为实参，若有多个用逗号分开</p>
<p>函数的封装：<br>把一个或者多个功能通过函数的方式封装起来，对外只提供一个简单的函数接口<br>（简单理解：将电脑配件整合组装到机箱中）</p>
<p>#函数的参数，return，arguments<br>一： 函数的参数（形参，实参）<br>形参：形式上的参数（声明函数时），是接收实参的，类似于一个不用声明的变量，默认undefined<br>实参：实际上的参数（函数调用时）</p>
<p>形参、实参的匹配问题：<br>形参&gt;实参：NaN，被赋值为undefined<br>形参&lt;实参：忽略额外的实参<br>注：1.函数可为无参数<br>2.若多余的形参后面写=运算符，后跟一个表达式，那么将在未给出某参数时用此表达式的值替换该参数。<br>function getsum(a,b=2){<br>let sum=1;<br>for(let counter=0;counter&lt;b;counter++){<br>sum=sum*a;<br>}<br>return sum;<br>}<br>console.log(getsum(2));//4<br>console.log(getsum(2,4));//16</p>
<p>二：返回值return<br>1.在函数体内部，return后面的代码不执行<br>2.return只能返回一个值，若需要返回多个值可包含在一个数组内<br>3.函数若无return，则返回undefined<br>4.区分break，continue，return<br>break：跳出循环体<br>continue：跳出本次循环体，进行下一次<br>return：退出循环，返回值，结束后面的代码</p>
<p>三：arguments（函数内置的）<br>arguments存储了传递过来的所有实参，以伪数组形式可进行遍历</p>
<p>#作用域（变量在某个范围内起作用）<br>一. 全局作用域、局部作用域（函数作用域）、块级作用域（ES6新增）<br>全局作用域：整个script标签内，或单个js文件<br>函数作用域：顾名思义，只在函数内部起作用效果<br>块级作用域：由 { } 包括，if语句和for语句里面的{ }也属于块作用域<br>注：词法作用域，就是在写代码时将变量和块作用域写在哪里来决定，也就是词法作用域是静态的作用域，在书写代码时就确定了。</p>
<p>二. 作用域链<br>概念：根据内部函数可以访问外部函数变量的这种作用机制，用链式查找决定哪些数据能被内部访问<br>注：站在目标出发，一层层往外查找（类似就近原则）<br>function f1(){<br>var num =1;<br>function f2(){<br>var num=0;//*<br>console.log(num);//目标<br>}<br>f2();<br>}<br>var num =3;<br>f1();<br>//结果是0 如果去掉*行，结果是1</p>
<p>#箭头函数<br>概念：函数的第三种表示方法，由 =&gt; 代替function关键字，便于以较简明方式编写小型函数表达式<br>const square1 = （x）=&gt; {return x*x}；</p>
<p>const horn = （）=&gt; {<br>cosole.log（“toot”）；<br>}<br>注：1.箭头位于参数列表之后，后接函数体，表达类似“这个输入（参数）产生这个结果的意思”<br>2.如果没有参数或有两个及以上，不能省略括号；有一个参数，可以省略<br>3.如果函数体是单个表达式，而不是{ }中的块，函数将返回这个表达式<br>4.箭头函数相当于匿名函数，并且简化了函数定义。箭头函数有两种格式，一种只包含一个表达式，省略掉了{ … }和return。还有一种可以包含多条语句，这时候就不能省略{ … }和return<br>5.用小括号包含大括号则是对象的定义，而非函数主体<br>x =&gt; {key: x} // 报错<br>x =&gt; ({key: x}) // 正确<br>6.箭头函数内部的this是词法作用域，由上下文确定。<br>7.var、const、let区别<br>var定义的变量，没有块的概念，可以跨块访问, 不能跨函数访问。<br>let定义的变量，只能在块作用域里访问，不能跨块访问，也不能跨函数访问。<br>const用来定义常量，使用时必须初始化(即必须赋值)，只能在块作用域里访问，而且不能修改。</p>
<p>#调用栈(call stack)<br>概念：一种栈结构,它用来存储计算机程序执行时候其活跃子程序的信息。（比如什么函数正在执行，什么函数正在被这个函数调用等等信息）<br>栈：动态分配的空间，维护函数调用的上下文。只有一个口可供进出，先入在底，后入在顶，先进后出。<br>堆：队列优先，先进先出。<br>栈帧：每次函数调用后，都会在调用栈上维护一个独立的栈帧。<br>function boo (a) {<br>return a * 3<br>}<br>function foo (b) {<br>return boo(4) * 2<br>}<br>console.log(foo(3))<br>过程：先形成一个栈帧，调用foo函数，又形成一个栈帧，新形成的栈帧压在之前栈帧的上面。由于foo函数里面又调用了boo函数，则又形成一个新的栈帧。当boo函数执行完后，返回值给foo函数，boo被推出调用栈。之后foo函数继续执行，返回值给console.log后被推出调用栈，直至最后console.log也被推出栈，程序执行完毕。</p>
<p>#递归<br>概念：在程序中函数直接或间接调用自身。将一个问题由难化易，由繁化简，由复杂化简单的过程称为化归，它是转化和归结的简称。<br>function fun(n) {<br>…<br>fun(n-1);<br>}<br>注：由于递归里面很容易发生“栈溢出”，所以必须加退出条件return。</p>
<p>#闭包(closure)<br>概念：引用了自由变量的函数。指一个函数与周围状态（词法环境）的引用捆绑在一起（封闭）的组合，在JavaScript中，每次创建函数时，都会同时创建闭包。<br>闭包是一种保护私有变量的机制，在函数执行时形成私有的作用域，保护里面的私有变量不受外界干扰，即形成一个不销毁的栈环境。<br>function a(){<br>var i=0;<br>function b(){<br>alert(++i);<br>}<br>return b;<br>}</p>
<p>var c = a();<br>c();<br>当函数a的内部函数b，被函数a外一个变量引用时，就创建了一个闭包。</p>
<p>#添加函数的时机<br>1.当多次编写类似的代码时，可以把重复的功能提取出来，找到一个好名称，并将其放入一个函数中。<br>2.需要一些尚未编写的功能，并且似乎它应该有自己的函数。于是从命名函数开始，然后编写函数体。<br>注：具有简单明了的好名字函数，使读代码的人更容易清楚它们的功能，并且函数能在更多情况下使用。</p>
<p>#副作用与纯函数<br>一 .函数副作用<br>当调用函数时，除了返回函数值之外，还对主调用函数产生附加的影响。（如修改了一个变量、改变数据结构、出现异常或终止、读取一个文件等）<br>这会降低程序可行性，带来不必要的麻烦。</p>
<p>二 .纯函数<br>一种特定的产生值的函数。函数与外界交换数据只有一个唯一渠道——参数和返回值<br>优势：1.无副作用，不依赖于其他代码产生的副作用<br>2.当使用相同参数调用时，总是生成相同的值（只要参数不变，函数的值始终不变）<br>3.可以通过简单的调用来测试它</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2021/11/26/postName/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2021/10/17/hello-world/">
        <h2>
            Hello World
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2021/10/17
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2021/10/17/hello-world/ " class="go-post">
        阅读全文
    </a>
</div>


             
<div class="page-current">

    <div class="prev">
        
    </div>

    <div class="page-index">

        

        <span class="current">
            1
        </span>

        

    </div>

    <div class="next">
        
    </div>

</div>

        </div>
    </div>
    
    <div id="home-card">
        <a-affix :offset-top="card_top">
    <a-card class="card-style" style="width: 300px">
        <div class="avatar">
            <img src="images/avatar.png " alt="头像">
        </div>
        <div class="name">
            John Doe
        </div>
        <div class="descriptions">
            
            <div class="description">
                正しさなんてもの
            </div>
            
            <div class="description">
                人のモノサシによって変わる
            </div>
            
        </div>
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/korilin">

                    
                    <a-icon type="github"
                        theme="filled" />
                    
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://twitter.com/korilin_dev">

                    
                    <a-icon type="twitter"
                        theme="" />
                    
                </a>
            </span>
            
        </div>
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://en.korilin.com">
                    英文技术博客
                </a>
            </div>
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://jp.korilin.com">
                    日语记录博客
                </a>
            </div>
            
        </div>
    </a-card>
</a-affix>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2022 Hexo
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @John Doe
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

</body>

</html>